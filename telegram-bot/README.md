# Telegram Health Bot üí¨

–ë–æ—Ç –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ —Ç—Ä–µ–∫—ñ–Ω–≥—É –Ω–∞—Å—Ç—Ä–æ—é —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É MongoDB.

## üöÄ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- /start ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤–µ –≤—ñ—Ç–∞–Ω–Ω—è
- /users ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- /save ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- /day ‚Äî –∫–æ—Ä–æ—Ç–∫–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è "–Ø–∫ –ø—Ä–æ–π—à–æ–≤ –¥–µ–Ω—å?"

## üß† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- Python 3.11+
- aiogram 2.x
- MongoDB
- python-dotenv

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `.env` –∑ `BOT_TOKEN` —ñ `MONGO_URI`
2. –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:
   ```bash
   .\.venv\Scripts\activate
   ```

NewTelegramBotProject/
‚îÇ
‚îî‚îÄ‚îÄ telegram_bot/ ‚Üê –∫–æ—Ä—ñ–Ω—å (Root Directory –¥–ª—è Render)
‚îÇ
‚îú‚îÄ bot/ # –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –±–æ—Ç–∞
‚îÇ ‚îú‚îÄ handlers.py # –û–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥git
‚îÇ ‚îú‚îÄ keyboards.py # –Ü–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏
‚îÇ ‚îî‚îÄ states.py # FSM (—Å—Ç–∞–Ω–∏ –¥—ñ–∞–ª–æ–≥—ñ–≤, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
‚îÇ
‚îú‚îÄ database/ # –ú–æ–¥—É–ª—ñ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ MongoDB
‚îÇ ‚îî‚îÄ db.py
‚îÇ
‚îú‚îÄ config.py # –¢–æ–∫–µ–Ω–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É (–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞)
‚îú‚îÄ‚îÄ requirements.txt ‚úÖ ‚Üê —Ü–µ–π —Ñ–∞–π–ª –º–∞—î –±—É—Ç–∏ —Å–∞–º–µ —Ç—É—Ç!
‚îî‚îÄ‚îÄ .env ‚ö†Ô∏è ‚Üê –ª–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–∞ —Ç—Ä–∏–º–∞—Ç–∏, –∞–ª–µ –Ω–µ –ø—É—à–∏—Ç–∏ –≤ Git!

<!-- from aiogram.dispatcher.filters import Command -->

<!-- –æ—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–≤–∏–≥—É–Ω–∞  -->
<!-- aiogram==3.0.0b7
motor==3.1.1        # –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –¥—Ä–∞–π–≤–µ—Ä MongoDB
python-dotenv==1.0.0
 -->
<!-- Example .env -->
<!-- BOT_TOKEN=123456789:AAEabcdefGHIjklMNOpqrSTuVwxyz
MONGO_URI=mongodb+srv://user:pass@cluster0.mongodb.net/telegram_bot?retryWrites=true&w=majority
ADMIN_ID=123456789
 -->

 <!-- üß© 3. –Ø–∫ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –ª–æ–≥—ñ–∫–∞ ‚Äú–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º‚Äù

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å /day ‚Üí daycheck_start_handler

FSM –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Å—Ç–∞–Ω waiting_for_mood

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î ‚Äú–î–æ–±—Ä–µ üòä‚Äù ‚Üí mood_handler

FSM –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Å—Ç–∞–Ω waiting_for_detail

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–±–æ:

–ø–∏—à–µ —Ç–µ–∫—Å—Ç ‚Üí detail_handler

–∞–±–æ –≤–≤–æ–¥–∏—Ç—å /skip ‚Üí skip_detail_handler

–£—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ª–æ–≥—É—é—Ç—å—Å—è —É MongoDB (–∫–æ–ª–µ–∫—Ü—ñ—è conversations)

FSM state.finish() –æ—á–∏—â–∞—î —Å—Ç–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->

<!-- 4. –Ø–∫ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É

–ö–æ–ª–∏ –∑–∞—Ö–æ—á–µ—à –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø –¥—ñ–∞–ª–æ–≥—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ‚Äú—Ä–∞–Ω–∫–æ–≤–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—è‚Äù –∞–±–æ ‚Äú–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ –∑–¥–æ—Ä–æ–≤‚Äô—è‚Äù):

–°—Ç–≤–æ—Ä—é—î—à –Ω–æ–≤–∏–π –∫–ª–∞—Å —É states.py

–î–æ–¥–∞—î—à –Ω–æ–≤—ñ —Ö–µ–Ω–¥–ª–µ—Ä–∏ —É handlers.py

(–∑–∞ –ø–æ—Ç—Ä–µ–±–∏) —Å—Ç–≤–æ—Ä—é—î—à –Ω–æ–≤—ñ –∫–Ω–æ–ø–∫–∏ —É keyboards.py

–†–µ—î—Å—Ç—Ä—É—î—à —ó—Ö —É main.py -->

<!-- ‚úÖ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ long polling –±–æ—Ç–∞ —è–∫ Web Service (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
1. –£ —Ñ–∞–π–ª—ñ Procfile

–ó–∞–º—ñ—Å—Ç—å

worker: python main.py


–ø–∏—à–∏:

web: python main.py -->
<!-- old example -->
<!-- aiogram==2.25.1
pymongo==4.3.3
python-dotenv==1.0.1
 -->
<!-- üîç –ü—ñ–¥—Å—É–º–æ–∫: –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≥–æ–ª–æ–≤–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

requests ‚úÖ ‚Äî —Ç–µ–ø–µ—Ä —î

aiogram ‚úÖ ‚Äî –≥–æ–ª–æ–≤–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –±–æ—Ç–∞

python-dotenv ‚úÖ ‚Äî —á–∏—Ç–∞—î .env

pymongo ‚úÖ ‚Äî –¥–ª—è MongoDB

aiohttp, magic-filter ‚úÖ ‚Äî —á–∞—Å—Ç–∏–Ω–∏ aiogram -->
